<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <title>Document</title>
</head>
<body>
<header>
  <div class="navbar">
    <!-- <div class="arrow-down"></div> -->
    <div class="modal-open">
      <button class="btn" id="add-btn" (click)="openModal()">
        <i id="icon" class="fa pot-food">New Dish</i>
      </button>
      <button class="btn" id="filter-btn" (click)="openModal()">
        Filter
      </button>
    </div>



  </div>

</header>

<div class="container">
  <div class="border">

  </div>
  <table class="tbl">
    <tr>
      <th>Image</th>
      <th>Name</th>
      <th>Cuisine</th>
      <th>Meal</th>
      <th>Ingredients</th>
      <th>Limit</th>
      <th>Price</th>
      <th>Description</th>
    </tr>
    <tr class="dish-row" id="{{'dish' + dish.id}}" *ngFor="let dish of dishes"
        [ngClass]="{changeBackgroundOnLowAmount: dish.limit < 4 && dish.limit > 0, changeBorderOnTheLeastExpensive: dish.price === minValue(), changeBorderOnTheMostExpensive: dish.price === maxValue()}">
      <td><img src="{{dish.imageUrl}}"></td>
      <td>{{dish.name | uppercase}}</td>
      <td> {{dish.cuisine }}</td>
      <td>{{dish.meal.toString() | lowercase}}</td>
      <td>{{dish.ingredients}}</td>
      <td>{{dish.limit}}</td>
      <td>{{dish.price}} $</td>
      <td>{{dish.description}}</td>
      <td class="icons" id={{dish.id}}{{dish.id}} [ngStyle]="{display: dish.limit === 0 ? 'none' : 'flex'}">
        <!--        <button>-->
        <i class="fas fa-plus-square" (click)="increaseAmountOfDishes(dish.id)"></i>
        <!--        </button>-->
        <p id="{{dish.id}}">0</p>
        <!--        <button>-->
        <i class="fas fa-minus-square" (click)="decreaseAmountOfDishes(dish.id)"></i>
        <!--        </button>-->
      </td>
      <td class="unavailable" [ngStyle]="{display: dish.limit === 0 ? 'flex' : 'none'}">UNAVAILABLE</td>
      <td>
        <button (click)="addReviewsComponent()">
          Reviews
        </button>

      </td>
      <td class="remove-btn" (click)="deleteDish(dish.id)">
        <button>
          <i class="fa fa-trash"></i>
        </button>
      </td>
    </tr>
  </table>


</div>
<div class="amount" [ngClass]="{changeBackground: amount > 10}">
  <p>0</p>
</div>
<br>



<div id="my-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <span class="close" (click)="closeModal()">&times;</span>
      <h2>Modal Header</h2>
    </div>
    <div class="modal-body">
      <form #addForm="ngForm" (ngSubmit)="addDish(addForm)">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" ngModel name="name" class="form-control" id="name" placeholder="Name" required>
        </div>
        <div class="form-group">
          <label for="cuisine">Cuisine</label>
          <input type="text" ngModel name="cuisine" class="form-control" id="cuisine" placeholder="Cuisine" required>
        </div>
        <div class="form-group">
          <label for="meal">Meal</label>
          <input type="text" ngModel name="meal" class="form-control" id="meal" placeholder="Meal" required>
        </div>
<!--        <div class="form-group">-->
<!--          <label for="ingredients">Ingredients</label>-->
<!--          <input type="text" ngModel name="ingredients" class="form-control" id="ingredients" placeholder="Ingredients" [(ngModel)]="newIngredient" required>-->
<!--        </div>-->
        <div class="form-group">
          <label for="imageUrl">Image URL</label>
          <input type="text" ngModel name="imageUrl" class="form-control" id="imageUrl" placeholder="Image URL"
                 required>
        </div>
        <div class="form-group">
          <label for="limit">Limit</label>
          <input type="number" ngModel name="limit" class="form-control" id="limit" placeholder="Limit" required>
        </div>
        <div class="form-group">
          <label for="price">Price</label>
          <input type="number" ngModel name="price" class="form-control" id="price" placeholder="Price" required>
        </div>
        <div class="form-group">
          <label for="description">Description</label>
          <input type="text" ngModel name="description" class="form-control" id="description" placeholder="Description"
                 required>
        </div>
        <div class="modal-footer">
          <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary">Save changes</button>
        </div>
      </form>
    </div>

  </div>
</div>

</body>
</html>




